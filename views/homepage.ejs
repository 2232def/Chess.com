<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>चतुरङ्ग - The Ancient Game of Kings</title>
    <link rel="icon" href="/assets/ghora.png">
    <link rel="stylesheet" href="/css/homepage.css">
</head>

<body>

    <div class="background-pattern"></div>

    <img class="mandala mandala-top" src="/assets/ChatGPT Image Oct 16, 2025, 06_26_35 PM.png" alt="">
    <img class="mandala mandala-center" src="/assets/ChatGPT Image Oct 16, 2025, 06_26_35 PM.png" alt="">
    <img class="mandala mandala-bottom" src="/assets/ChatGPT Image Oct 16, 2025, 06_26_35 PM.png" alt="">

    <div class="corner-ornament corner-top-left"></div>
    <div class="corner-ornament corner-top-right"></div>
    <div class="corner-ornament corner-bottom-left"></div>
    <div class="corner-ornament corner-bottom-right"></div>


    <div class="container">
        
        <div style="position: absolute; top: 20px; right: 20px; z-index: 100;">
            <div id="app"></div>
            <% if (!user) { %>
                <button onclick="window.location.href='/sign-in'"
                    style="background: linear-gradient(135deg, #d4af37, #8b6914); color: #1a0a00; border: none; padding: 12px 24px; border-radius: 8px; font-family: 'Cinzel', serif; font-weight: 600; cursor: pointer; letter-spacing: 1px; transition: all 0.3s ease;">
                    Sign In
                </button>
                <% } %>
        </div>

        <header class="header-section">
            <h1 class="main-title">
                <span class="title-word">Chess</span>
                <span class="title-word active">Chaturanga</span>
                <span class="title-word">चतुरङ्ग</span>
            </h1>
            <p class="subtitle">The Ancient Game of Kings</p>
            <div class="decorative-divider">✦ ◆ ✦</div>
        </header>

        <div class="main-content">
            <div class="board-container">
                <div class="chess-board">
                    <div class="board-frame">
                        <div class="board-grid" id="chessBoard"></div>
                    </div>
                </div>
            </div>

            <div class="content-section">
                <p class="description">
                    Chaturanga, the ancient predecessor of modern chess, originated in India during the Gupta Empire
                    around the 6th century CE.
                    This strategic board game represented the four divisions of the Indian military: infantry, cavalry,
                    elephants, and chariots.
                    Played by kings and nobles in magnificent palace halls, Chaturanga was more than a game—it was a
                    test of wisdom, strategy,
                    and foresight. Experience this timeless tradition where every move carries the weight of centuries
                    of royal heritage.
                </p>

                <div class="action-buttons">
                    <button class="cta-button" id="findMatchBtn">
                        <span class="button-texture"></span>
                        Find a Match
                    </button>
                    <button class="cta-button" onclick="window.location.href='/play/computer'">
                        <span class="button-texture"></span>
                        Play vs Computer
                    </button>
                    <button class="cta-button" onclick="window.location.href='/createlink'">
                        <span class="button-texture"></span>
                        Create Private Game
                    </button>
                </div>
            </div>
        </div>

        <section class="features-section">
            <h2 class="section-title">More Modes</h2>
            <div style="text-align: center; padding: 60px 20px; font-family: 'Cormorant Garamond', serif;">
                <div style="font-size: 4em; color: #d4af37; margin-bottom: 20px;">⏳</div>
                <h3
                    style="font-size: 2.5em; color: #d4af37; font-family: 'Cinzel', serif; letter-spacing: 3px; margin-bottom: 15px;">
                    COMING SOON</h3>
            </div>
        </section>
    </div>

    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"
        integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO"
        crossorigin="anonymous"></script>
    <script async crossorigin="anonymous" data-clerk-publishable-key="<%= process.env.CLERK_PUBLISHABLE_KEY %>"
        src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js" type="text/javascript"></script>
    <script src="/js/userbutton.js"></script>

    <script>
        const board = document.getElementById('chessBoard');
        const pieces = {
            'r': '♜', 'n': '♞', 'b': '♝', 'q': '♛', 'k': '♚', 'p': '♟',
            'R': '♖', 'N': '♘', 'B': '♗', 'Q': '♕', 'K': '♔', 'P': '♙'
        };

        const startPosition = [
            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
            ['', '', '', '', '', '', '', ''],
            ['', '', '', '', '', '', '', ''],
            ['', '', '', '', '', '', '', ''],
            ['', '', '', '', '', '', '', ''],
            ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
        ];

        for (let row = 0; row < 8; row++) {
            for (let col = 0; col < 8; col++) {
                const square = document.createElement('div');
                square.className = `square ${(row + col) % 2 === 0 ? 'light' : 'dark'}`;
                const piece = startPosition[row][col];
                if (piece) {
                    square.textContent = pieces[piece];
                    square.style.color = piece === piece.toUpperCase() ? 'white' : 'black';
                }
                board.appendChild(square);
            }
        }

        function createRipple(event) {
            const button = event.currentTarget;
            const ripple = document.createElement('span');
            ripple.className = 'ripple';

            const rect = button.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = event.clientX - rect.left - size / 2;
            const y = event.clientY - rect.top - size / 2;

            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';

            button.appendChild(ripple);

            setTimeout(() => ripple.remove(), 600);
        }
        document.addEventListener('DOMContentLoaded', function () {
            // Generate chess board
            // generateChessBoard();

            // // Add ripple effect to all CTA buttons
            const buttons = document.querySelectorAll('.cta-button');
            buttons.forEach(button => {
                button.addEventListener('click', createRipple);
            });

            // Find Match Button Handler
            const findMatchBtn = document.getElementById('findMatchBtn');
            findMatchBtn.addEventListener('click', function (event) {
                if (!window.Clerk || !window.Clerk.user) {
                    window.location.href = '/sign-in';
                    return;
                }
                window.location.href = '/searching';
            });

            const titleWords = document.querySelectorAll('.title-word');
            let currentIndex = 0;

            setInterval(() => {
                titleWords[currentIndex].classList.remove('active');
                currentIndex = (currentIndex + 1) % titleWords.length;
                titleWords[currentIndex].classList.add('active');
            }, 3000); 
        });
    </script>
</body>

</html>